<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>자기소개</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    margin: 20px 0;
    font-family: Arial, sans-serif;
    background-color: rgb(50, 90, 180);
    color: white;
    transition: background-color 0.3s, color 0.3s;
  }
  .container {
    width: 100%;
    max-width: 600px;
    padding: 40px;
    box-sizing: border-box;
    text-align: center;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    color: black;
    transition: background-color 0.3s, color 0.3s;
    margin-top: 40px;
    display: flex;
    flex-direction: column;
  }
  body.dark-mode {
    background-color: #000;
    color: #fff;
  }
  body.dark-mode .container {
    background: #111;
    color: white;
    box-shadow: 0 0 15px rgba(255,255,255,0.2);
  }
  img {
    display: block;
    margin: 0 auto 20px;
    width: 100%;
    max-width: 100px;
    height: auto;
  }
  a {
    color: #0645AD;
  }
  body.dark-mode a {
    color: #69aaff;
  }
  .button-group {
    margin-top: 20px;
  }
  button {
    padding: 10px 20px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin: 0 10px;
    transition: background-color 0.3s;
  }
  button:hover {
    background-color: #0056b3;
  }
  body.dark-mode button {
    background-color: #3399ff;
    color: white;
  }
  body.dark-mode button:hover {
    background-color: #66b3ff;
  }
  #mode-toggle {
    margin-top: 15px;
  }
  h1 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin: 0 0 20px 0;
  }
  /* 방명록 스타일 */
  #guestbook-entries {
    margin-top: 30px;
    max-height: 150px;
    overflow-y: auto;
    border: 1px solid #ccc;
    padding: 10px;
    text-align: left;
    background: #f9f9f9;
    color: #333;
    border-radius: 5px;
  }
  body.dark-mode #guestbook-entries {
    background: #222;
    color: #ddd;
    border-color: #444;
  }
  /* 입력폼 */
  #guestbook-form {
    margin-top: 15px;
    display: flex;
    flex-direction: column;
  }
  #guestbook-form input, #guestbook-form textarea {
    margin-bottom: 10px;
    padding: 10px;
    font-size: 14px;
    border-radius: 5px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  body.dark-mode #guestbook-form input,
  body.dark-mode #guestbook-form textarea {
    background: #222;
    color: #ddd;
    border-color: #444;
  }
  #guestbook-form input[type="text"] {
    width: 100%;
  }
  #guestbook-form textarea {
    height: 80px;
    resize: vertical;
  }
  #guestbook-submit {
    align-self: flex-end;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
  /* 방명록 항목 */
  .guestbook-entry {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    border-bottom: 1px solid #ccc;
  }
  body.dark-mode .guestbook-entry {
    border-color: #555;
  }
  .entry-text {
    flex-grow: 1;
    white-space: pre-wrap;
    margin-right: 10px;
  }
  .delete-btn {
    background-color: #ff4d4d;
    border: none;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    flex-shrink: 0;
  }
  .delete-btn:hover {
    background-color: #cc0000;
  }
</style>
</head>
<body>
  <div class="container">
    <img src="ic_app.png" alt="스피드온 로고" />
    <h1 id="greeting">안녕하세요, 안병욱입니다.</h1>
    <p><strong id="hobby-label">취미:</strong> <span id="hobby-value">영화, 독서</span></p>
    <p><strong id="email-label">이메일:</strong> <a href="mailto:024073@kspo.or.kr" id="email-value">024073@kspo.or.kr</a></p>

    <div class="button-group">
      <button onclick="sayHello()">인사하기</button>
      <button id="lang-toggle" onclick="toggleLanguage()">English</button>
    </div>
    <div class="button-group">
      <button id="mode-toggle" onclick="toggleMode()">다크모드 / 라이트모드</button>
    </div>

    <!-- 방명록 내용 -->
    <div id="guestbook-entries"></div>

    <!-- 방명록 입력폼 -->
    <form id="guestbook-form" onsubmit="event.preventDefault(); addGuestbookEntry();">
      <input type="text" id="employee-id" placeholder="사번 (6자리 숫자)" maxlength="6" pattern="\d{6}" title="6자리 숫자 입력" required />
      <input type="text" id="employee-name" placeholder="이름" required />
      <textarea id="guestbook-input" placeholder="방명록 내용을 입력하세요..." required></textarea>
      <button type="submit" id="guestbook-submit">작성</button>
    </form>
  </div>

<script>
  let isKorean = true;
  let isDarkMode = false;

  function sayHello() {
    alert('반갑습니다!');
  }

  function toggleLanguage() {
    if (isKorean) {
      document.getElementById("greeting").innerText = "Hello, I'm ByungUk Ahn.";
      document.getElementById("hobby-label").innerText = "Hobbies:";
      document.getElementById("hobby-value").innerText = "Movies, Reading";
      document.getElementById("email-label").innerText = "Email:";
      document.getElementById("lang-toggle").innerText = "한국어";
      isKorean = false;
    } else {
      document.getElementById("greeting").innerText = "안녕하세요, 안병욱입니다.";
      document.getElementById("hobby-label").innerText = "취미:";
      document.getElementById("hobby-value").innerText = "영화, 독서";
      document.getElementById("email-label").innerText = "이메일:";
      document.getElementById("lang-toggle").innerText = "English";
      isKorean = true;
    }
  }

  function toggleMode() {
    const body = document.body;
    if (isDarkMode) {
      body.classList.remove("dark-mode");
      isDarkMode = false;
    } else {
      body.classList.add("dark-mode");
      isDarkMode = true;
    }
  }

  // 방명록에 내용 추가 함수
  function addGuestbookEntry() {
    const idInput = document.getElementById('employee-id');
    const nameInput = document.getElementById('employee-name');
    const textInput = document.getElementById('guestbook-input');
    const entries = document.getElementById('guestbook-entries');

    const id = idInput.value.trim();
    const name = nameInput.value.trim();
    const text = textInput.value.trim();

    if (!/^\d{6}$/.test(id)) {
      alert('사번은 6자리 숫자여야 합니다.');
      idInput.focus();
      return;
    }
    if (name === '') {
      alert('이름을 입력해주세요.');
      nameInput.focus();
      return;
    }
    if (text === '') {
      alert('내용을 입력해주세요.');
      textInput.focus();
      return;
    }

    const entryDiv = document.createElement('div');
    entryDiv.className = 'guestbook-entry';

    const textDiv = document.createElement('div');
    textDiv.className = 'entry-text';
    textDiv.textContent = `[${id}] ${name}: ${text}`;

    const deleteBtn = document.createElement('button');
    deleteBtn.className = 'delete-btn';
    deleteBtn.textContent = '삭제';
    deleteBtn.onclick = () => {
      if (confirm('정말 삭제하시겠습니까?')) {
        entries.removeChild(entryDiv);
      }
    };

    entryDiv.appendChild(textDiv);
    entryDiv.appendChild(deleteBtn);

    entries.appendChild(entryDiv);

    idInput.value = '';
    nameInput.value = '';
    textInput.value = '';

    entries.scrollTop = entries.scrollHeight;
  }
</script>
</body>
</html>
